<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <button id="all" onClick="show_all()">Show all</button><br>
    <span>Filtruj </span>
    <button id="rock" onClick="show_rock()">Rock</button>
    <button id="rap" onClick="show_rap()">Rap</button>
    <button id="metal" onClick="show_metal()">Metal</button>
    <br><br>

    <input type="text" id="jeden_element" required>
    <button id="show_one_element" onClick="show_one_element()">Poka≈º element zformularza</button>
    <div id="wynik"></div>

    <script>
        function show_all(){
            document.getElementById("wynik").innerHTML="";
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                   var xmlDoc = this.responseXML;
                    var path = "//album";
                    var nodes = xmlDoc.evaluate(path, xmlDoc, null, XPathResult.ANY_TYPE, null);
                    while(result = nodes.iterateNext()) {
                        for(var i = 0; i < result.childNodes.length; i++){
                            element = result.childNodes[i];
                            if(element.nodeType == 3) continue;
                            document.getElementById("wynik").innerHTML +=  element.nodeName + ": " + element.childNodes[0].nodeValue+"<br>";
                        }
                        document.getElementById("wynik").innerHTML += "<br><hr><br><br>";
                    }
                }
            };
            xhttp.open("GET", "albumy_shop.xml", true);
            xhttp.send();
        }
        function show_rock(){
            document.getElementById("wynik").innerHTML="";
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                   var xmlDoc = this.responseXML;
                    var path = "//album[@type='rock']";
                    var nodes = xmlDoc.evaluate(path, xmlDoc, null, XPathResult.ANY_TYPE, null);
                    while(result = nodes.iterateNext()) {
                        for(var i = 0; i < result.childNodes.length; i++){
                                element = result.childNodes[i];
                                if(element.nodeType == 3) continue;
                                document.getElementById("wynik").innerHTML +=  element.nodeName + ": " + element.childNodes[0].nodeValue+"<br>";
                        }
                        document.getElementById("wynik").innerHTML += "<br><hr><br><br>";
                    }
                }
            };
            xhttp.open("GET", "albumy_shop.xml", true);
            xhttp.send();
        }

        function show_rap(){
            document.getElementById("wynik").innerHTML="";
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                   var xmlDoc = this.responseXML;
                    var path = "//album[@type='rap']";
                    var nodes = xmlDoc.evaluate(path, xmlDoc, null, XPathResult.ANY_TYPE, null);
                    while(result = nodes.iterateNext()) {
                        for(var i = 0; i < result.childNodes.length; i++){
                                element = result.childNodes[i];
                                if(element.nodeType == 3) continue;
                                document.getElementById("wynik").innerHTML +=  element.nodeName + ": " + element.childNodes[0].nodeValue+"<br>";
                        }
                        document.getElementById("wynik").innerHTML += "<br><hr><br><br>";
                    }
                }
            };
            xhttp.open("GET", "albumy_shop.xml", true);
            xhttp.send();
        }

        function show_metal(){
            document.getElementById("wynik").innerHTML="";
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                   var xmlDoc = this.responseXML;
                    var path = "//album[@type='metal']";
                    var nodes = xmlDoc.evaluate(path, xmlDoc, null, XPathResult.ANY_TYPE, null);
                    while(result = nodes.iterateNext()) {
                        for(var i = 0; i < result.childNodes.length; i++){
                                element = result.childNodes[i];
                                if(element.nodeType == 3) continue;
                                document.getElementById("wynik").innerHTML +=  element.nodeName + ": " + element.childNodes[0].nodeValue+"<br>";
                        }
                        document.getElementById("wynik").innerHTML += "<br><hr><br><br>";
                    }
                }
            };
            xhttp.open("GET", "albumy_shop.xml", true);
            xhttp.send();
        }

        function show_one_element(){
            document.getElementById("wynik").innerHTML="";
            var co = document.getElementById("jeden_element").value;
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                   var xmlDoc = this.responseXML;
                    var path = "//"+co;
                    var nodes = xmlDoc.evaluate(path, xmlDoc, null, XPathResult.ANY_TYPE, null);
                    while(result = nodes.iterateNext()) {
                                document.getElementById("wynik").innerHTML +=  result.nodeName + ": " + result.childNodes[0].nodeValue+"<br>";
                        document.getElementById("wynik").innerHTML += "<br><hr><br><br>";
                    }
                }
            };
            xhttp.open("GET", "albumy_shop.xml", true);
            xhttp.send();
        }
    </script>

</html>